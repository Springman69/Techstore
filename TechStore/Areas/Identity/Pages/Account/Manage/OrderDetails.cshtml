@page
@model TechStore.Areas.Identity.Pages.Account.Manage.OrderDetailsModel
@{
    <div class="container-fluid">        
        <div class="card">
            <div class="row">
                <div class="col pt-2">
                    <h4 class="mx-2">Aktualny status zamówienia: @Model.Order.OrderStatus</h4>
                    <form method="post">
                        <div class="mx-2">
                            <select asp-for="SelectedStatus">
                                @foreach (var status in Model.OrderStatus)
                                {
                                    <option value="@status">@status</option>
                                }
                            </select>
                        </div>
                        <div class="mt-3 mx-2">
                            <button type="submit" class="btn btn-outline-primary" asp-page-handler="SaveSelectedStatus">Zmień status zamówienia</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 pt-2">
                    <h4 class="mx-2">Dane Odpiorcy</h4>
                    <div class="card m-2 p-2">
                        <p><strong>@Model.Order.Client.FirstName @Model.Order.Client.LastName</strong></p>
                        <p>tel. @Model.Order.Client.PhoneNumber</p>
                        <p>e-mail: @Model.Order.Client.Email</p>
                    </div>
                </div>
                <div class="col-lg-6 pt-2">
                    <h4>Adres dostawy:</h4>
                    <div class="card mx-2 p-2">
                        <p><strong>@Model.Order.ShippingAddress.Locality</strong></p>
                        <p>@Model.Order.ShippingAddress.Street @Model.Order.ShippingAddress.BuildingNumber</p>
                        <p>@Model.Order.ShippingAddress.PostalCode @Model.Order.ShippingAddress.Locality</p>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col m-2">
                    <h4 class="mx-2">Zamówienie</h4>
                    <table class="table table-bordered table-hover">
                        <thead class="thead-dark">
                            <tr>
                                <th>Zdjęcie</th>
                                <th>Nazwa produktu</th>
                                <th>Ilość</th>
                                <th>Cena</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var pr in Model.Order.ProductOrderRelations)
                            {
                                <tr>
                                    <td><img src="@pr.Product.Image" class="img-fluid" style="max-width: 100px; height: auto;" /></td>
                                    <td>@pr.Product.Name</td>
                                    <td>@pr.Quantity szt.</td>
                                    <td>@pr.Product.Price zł</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>
}
